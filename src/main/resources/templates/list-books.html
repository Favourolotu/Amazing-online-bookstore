<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Amazing Bookstore</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<h1 th:inline="text">User: [[${username}]]</h1>

<table>
    <caption>Search Result: </caption>

    <tr>
        <th> ISBN </th>
        <th> Title </th>
        <th> Author </th>
        <th> Description </th>
        <th> Publisher </th>
        <th>Stock</th>
    </tr>

    <tr th:each="book : ${books}">
        <td th:text="${book.ISBN}"></td>
        <td th:text="${book.title}"></td>
        <td th:text="${book.author}"></td>
        <td th:text="${book.description}"></td>
        <td th:text="${book.publisher}"></td>
        <td th:text="${book.stock}"></td>

        <td>
            <form th:action="@{/user/{username}/addToCart(username=${username})}" th:object="${book}" th:method="post">

                <input type="hidden" id="bookISBN" name="bookISBN" th:value="${book.ISBN}">
                <input type="hidden" id="username" name="username" th:value="${username}">

                <input type="hidden" id="title" name="title" th:value="${book.title}" required>

                <input type="hidden" id="author" name="author" th:value="${book.author}" required>

                <input type="hidden" id="description" name="description" th:value="${book.description}" required>

                <input type="hidden" id="publisher" name="publisher" th:value="${book.publisher}" required>

                <label for="stock">Quantity:</label>
                <input type="number" min="1" max="1" id="stock" name="stock" th:value="1" required>

                <input type="submit" value="Add to Cart">
            </form>
        </td>

    </tr>
</table>

<br>



<form action="#" th:action="@{/user/{username}/viewCart(username=${username})}" method="get">
    <p> <input type="submit" value="View Shopping Cart" /></p>
</form>

<form action="#" th:action="@{/user/{username}(username=${username})}" method="get">
    <p> <input type="submit" value="Return to Homepage" /></p>
</form>

</body>
</html>